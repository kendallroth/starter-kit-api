<html>

<head>
  <!-- Load the latest Swagger UI code and styles (using unpkg.com) -->
  <script src="https://unpkg.com/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
  <script src="./swagger-config.js"></script>
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5/swagger-ui.css" />
  <title>starter-kit-api</title>
</head>

<body>
  <div id="swagger-ui"></div>
  <script>
    const { swaggerConfig } = window;
    if (swaggerConfig?.customSiteTitle) {
      document.title = swaggerConfig.customSiteTitle;
    }
    if (swaggerConfig?.customCss) {
      const styleNode = document.createElement("style");
      styleNode.innerHTML = swaggerConfig.customCss;
      document.head.appendChild(styleNode);
    }

    window.onload = function () {
      // Swagger UI configuration
      // https://swagger.io/docs/open-source-tools/swagger-ui/usage/configuration/
      const ui = SwaggerUIBundle({
        // Location of Open API spec in the repo, which is copied into `/docs` during GitHub Action
        url: "./swagger.json",
        dom_id: '#swagger-ui',
        deepLinking: true,
        ...swaggerConfig?.swaggerOptions,
        presets: [
          SwaggerUIBundle.presets.apis,
          SwaggerUIBundle.SwaggerUIStandalonePreset
        ],
        plugins: [
          SwaggerUIBundle.plugins.DownloadUrl,
          ...swaggerConfig?.swaggerOptions?.plugins,
        ],
      });
      // Attach Swagger UI to global window
      window.ui = ui
    }
  </script>
</body>

</html>